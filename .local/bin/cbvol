#!/bin/sh

# Volume script for Arch Linux ARM on Samsung Chromebook 2

# Return "on" or "ff"
STATE=$(amixer cget name='Speaker Left Switch' 0 | grep '  : values=' | tail -c 3)

if [ "$1" = toggle ]
then
	amixer set 'Speaker Left' toggle
	amixer set 'Speaker Right' toggle
elif [ "$STATE" = "ff" ]
then
	# TODO: implement auto mute
	case $1 in
	up)     amixer set Headphone 3dB+ ;;
	down)   amixer set Headphone 3dB- ;;
	esac
else
	case $1 in
	up)     amixer set Speaker 3dB+ ;;
	down)   amixer set Speaker 3dB- ;;
	esac
fi > /dev/null

pkill -SIGUSR1 bar.sh
